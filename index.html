<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="styles.css">
    <title>Sasha Buskin</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.0/p5.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.4/gsap.min.js"></script>
    <script src="background2.js" style="position: fixed; z-index: -80000;"></script>
    <script src="https://unpkg.com/split-type"></script>
    <script src="https://unpkg.com/@barba/core"></script>
    <script src="https://unpkg.com/@studio-freight/lenis@1.0.33/dist/lenis.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.3/ScrollTrigger.min.js"></script>
</head>

<body>
<canvas id="canva" style="z-index: -10; width: 100%; height: 100%;"></canvas>
  

<header style="padding-top: 0vw;">
      <div class="container" style="margin-top: -10px;">
          <h1 id="name" style="padding-top: 0vw;">SASHA</h1>
          <h1 id="name1" style="padding-top: 3vw;">BUSKIN</h1>
      </div>
</header>


<!--<img src="res/bggg.png" style=" margin-top: 5%; margin-left: 10%; width:80%; height: 80%;position: fixed; opacity: 0.4;">-->

<div class="eyes">
      <div class="eye-container" >
          <div class="eye">
              <div class="pupil"></div>
          </div>
      </div>
      <div class="eye-container">
          <div class="eye">
              <div class="pupil"></div>
          </div>
      </div>
  </div>

  <style>
    /* Style for the vertical line */
    .vertical-line {
        border-left: 2px solid #1A2EFF; /* You can adjust the thickness and color */
        height: 100vh; /* You can adjust the height of the vertical line */
        margin-left: 40px;
        margin-top: 0px;
        position: fixed;
        z-index: -2;/* Adjust the distance between the lines */
    }

    .horizontal-line {
      width: 100%; /* You can adjust the width of the line */
            border-top: 2px solid #1A2EFF; /* You can adjust the thickness and color */
            margin-top: 40px; /* Adjust the distance between the lines */
            margin-bottom: 20px; 
            position: fixed;
            z-index: -2;/* Adjust the distance between the lines */
    }

    .colored-square-top {
           top: 0px;
           left: 0px;
            width: 15vw; /* Set the width of the square */
            height: 18vh; /* Set the height of the square */
            background-color: #efefef; 
            position: fixed;
            z-index: -1;/* Set the background color using a hex code */
        }
</style>
  

  <div class="cursor">
  
    <div class="circle"></div>
      <div class="circle"></div>
      <div class="circle"></div>
      <div class="circle"></div>
      <div class="circle"></div>
      <div class="circle"></div>
      <div class="circle"></div>
      <div class="circle"></div>
      <div class="circle"></div>
      <div class="circle"></div>
      <div class="circle"></div>
      <div class="circle"></div>
      <div class="circle"></div>
      <div class="circle"></div>
      <div class="circle"></div>
      <div class="circle"></div>
      <div class="circle"></div>
      <div class="circle"></div>
      <div class="circle"></div>
      <div class="circle"></div>
    </div>

<main id="canvasMain"></main>
<main >
  
  
  <section data-barba="wrapper">
  <!-- Unchanged Content -->
  <section data-barba="container" style="position: absolute; width: 99vw; float: right;">
   
    <div class="project">
      <con style="margin-top: calc(200px - 10vw);">
          <div class="nav">
              <a href="Tattoomi.html" id= "1" style="text-decoration:none;"onclick="titlize(this)"><h2 class="menu-item">TATTOOMI</h2></a>
              <a href="NeuWord.html" id= "2" style="overflow: hidden; text-decoration:none;" onclick="titlize(this)"><h2 class="menu-item">NEUWORD</h2></a>
              <a href="PinguTopia.html" id= "3" style="text-decoration:none;"onclick="titlize(this)"><h2 class="menu-item">PINGUTOPIA</h2></a>
              <a href="HopIn.html" id= "4" style="text-decoration:none;"onclick="titlize(this)"><h2 class="menu-item">HOPIN</h2></a>
              <a href="WWTBAM.html" id= "5" style="text-decoration:none;"onclick="titlize(this)"><h2 class="menu-item">WWTBAM</h2></a>
          </div>
      </con>
  </div>         
   
              <div class="bottombutton" style="margin-left: 20px;">
                <a href="https://github.com/sashabuski">
                    <img src="gitty.png" style="width:50px;" alt="Button Image">
                </a>
            </div>
          
            <div class="bottombutton" style="margin-left: 80px;">
              <a href="https://www.linkedin.com/in/sasha-buskin-3690b1249/">
                    <img src="in.png" style="width:50px;" alt="Button Image">
                </a>
            </div>
</section>

</section>
</main>
<!-- Unchanged Content -->


          <!-- Main content area -->
          
       
      
       
        <script src="script.js"></script>
    

        <script>

function titlize(clickedElement) {
  var a = clickedElement.childNodes[0];

  a.style.color = '#EFEFEF';
               a.classList.add(".title");
               a.classList.add(".nohover");


                 /* */
  const arrayOfDivs = [];
  
   arrayOfDivs.push(data.trigger);
 
 for(let i=1;i<10;i +=2){
  var head = data.current.container.childNodes[1].childNodes[1].childNodes[1].childNodes[i];
 console.log("HEAD "+i+head);
  
 
 if(data.trigger != head){
    arrayOfDivs.push(head);
  }

 } 

 arrayOfDivs.forEach(function(header) {
  // Perform some action on each header element
  header.style.pointerEvents = "none";// Change opacity as an example
        });
}



          document.addEventListener('DOMContentLoaded', function() {
            // Get all elements with the class "fadeHeader"
            var fadeHeadersBefore = document.querySelectorAll('.menu-item');
     

            const fadeHeaders = []

for(let i = fadeHeadersBefore.length - 1; i >= 0; i--) {
  const valueAtIndex = fadeHeadersBefore[i]
  
  fadeHeaders.push(valueAtIndex)
}
            // Function to apply fade-in effect to each header
            function fadeInHeader(header, index) {
              setTimeout(function() {
                header.style.opacity = '1';
                header.style.transform = 'translateY(0)';
              }, 150 * index); // Adjust the delay as needed for each header
            
             
              
            }
      
            // Iterate through each header and apply the fade-in effect
            fadeHeaders.forEach(function(header, index) {
              fadeInHeader(header, index);
             
            }
            
            );


            setTimeout(() => {
      console.log("HAHAHAHA");
      fadeHeaders.forEach(function(header) {
  // Perform some action on each header element
  header.style.pointerEvents = "all";// Change opacity as an example
        });

        
      }, 1700);
          });
         
        </script>

        <script>
           const myText = new SplitType('#name')
            
              gsap.to('.char', {
              y: 0,
              ease: "expo.out",
              delay: 0.7,
              duration: 2.0
            })
            const myText1 = new SplitType('#name1')
              gsap.to('.char', {
              y: 0,
              ease: "expo.out",
              delay: 0.9,
              duration: 2.0
            })
        </script>
         
         <script src="https://unpkg.com/@barba/core"></script>
         <script>
            /* barba.init({
                transitions: [{
                  sync:false,
                  name: 'opacity-transition',
              
               leave(data) {
               
                 animationLeave(data.current.container, data);
                data.current.container.childNodes[1].childNodes[1].classList.add("snapback");
              },
   
               enter(data) {
                return gsap.from(data.next.container, {
                  delay:2,
        opacity: 0,
        duration:1.0
        
      });
              }
            }]
          });


          const animationEnter = (container, data) => {
            const timeline = gsap.timeline();
            console.log(container.childNodes[3]);
            timeline.to(container.childNodes[3], { opacity: 1, duration: 0.25,  ease: 'none' });


return timeline;


          }




          const animationLeave = (container, data) => {
  
  var arrayOfDivs = [];
  
 
 
 for(let i=1;i<10;i +=2){
  var head = container.childNodes[1].childNodes[1].childNodes[1].childNodes[i];
 
  if(data.trigger != head){
    arrayOfDivs.push(head);
  }

 } 


 const timeline = gsap.timeline();
    
      
      timeline.to(container.childNodes[1].childNodes[1], {scale: 0.5, perspective: 'none',rotateY: 0,duration: 0.4, ease: 'power2.inOut' });
     // timeline.to(container.childNodes[1].childNodes[1], {rotateY: 0,duration: 0.5, ease: 'power2.inOut' });
      timeline.to(arrayOfDivs, { autoAlpha: 0,stagger:0.05, duration: 0.25,  ease: 'none' });
      timeline.to(container.childNodes[1].childNodes[1], {  y: "-13.58vw",  duration: 0.4,  ease: 'power2.inOut' });
  // 
    return timeline;
    }*/

  
    const animationEnterMenu = (container) => {
      console.log("animationEnterMenu");
   const timeline = gsap.timeline();
   
   var fadeHeadersBefore = document.querySelectorAll('.menu-item');
     

     const fadeHeaders = []

for(let i = fadeHeadersBefore.length - 1; i >= 0; i--) {
const valueAtIndex = fadeHeadersBefore[i]

fadeHeaders.push(valueAtIndex)
}
     // Function to apply fade-in effect to each header
     function fadeInHeader(header, index) {
       setTimeout(function() {
         header.style.opacity = '1';
         header.style.transform = 'translateY(0)';
       }, 150 * index); // Adjust the delay as needed for each header
     
      
       
     }

     // Iterate through each header and apply the fade-in effect
     fadeHeaders.forEach(function(header, index) {
       fadeInHeader(header, index);
     
     }
     
     );
     setTimeout(() => {
      console.log("HAHAHAHA");
      fadeHeaders.forEach(function(header) {
  // Perform some action on each header element
  header.style.pointerEvents = "all";// Change opacity as an example
        });

        
      }, 1700);

     
   
 
 /*  var arrayOfDivs = [];
  
 

for(let i=1;i<10;i +=2){
 var head = container.childNodes[1].childNodes[1].childNodes[1].childNodes[i];
console.log("HEAD "+i+head);
 


   arrayOfDivs.push(head);
 

}
timeline.to(arrayOfDivs, {  autoAlpha: 1,stagger:0.2, duration: 0.5,  ease: 'none' });   */




timeline.to(container, { delay: 2,autoAlpha: 1, duration: 2, clearProps: 'all', ease: 'none'});
  
  
   return timeline;
}

    
  
    const animationEnter = (container) => {
   
      const timeline = gsap.timeline();
      
      console.log("CUM"+container.childNodes.values());
      for (var index = 0; index < container.childNodes.length; index++) {
    console.log(index+" "+container.childNodes[index]);
}
     
console.log(container.childNodes);

timeline.from(container, { delay: 2,autoAlpha: 0, duration: 1, ease: 'none'});
      //timeline.from(container.childNodes[3], { autoAlpha: 0, duration: 2, clearProps: 'all', ease: 'none'});
      //timeline.from(container.childNodes[5], { autoAlpha: 0, duration: 2, clearProps: 'all', ease: 'none'});
      //timeline.from(container.childNodes[7], { autoAlpha: 0, duration: 2, clearProps: 'all', ease: 'none'});
      return timeline;
}
 
const animationLeaveMenu = (data) => {
  console.log("animationLeaveMenu");
  
  /* */
  const arrayOfDivs = [];
  
   arrayOfDivs.push(data.trigger);
 
 for(let i=1;i<10;i +=2){
  var head = data.current.container.childNodes[1].childNodes[1].childNodes[1].childNodes[i];
 console.log("HEAD "+i+head);
  
 
 if(data.trigger != head){
    arrayOfDivs.push(head);
  }

 } 

 arrayOfDivs.forEach(function(header) {
  // Perform some action on each header element
  header.style.pointerEvents = "none";// Change opacity as an example
        });
 const timeline = gsap.timeline();
    
 
let x =0;

switch (data.trigger.id) {
  case "1":
  x =-40;
  break;
  case "2":
  x =-34.5;
  break;
  case "3":
  x =-49;
  break;
  case "4":
  x =-63.5;
  break;
  case "5":
  x =-78;
  break;
  
}
/**/ 
console.log(x);
      timeline.to(data.current.container.childNodes[1].childNodes[1], {scale: 0.6, perspective: 'none',rotateY: 0,duration: 0.4, ease: 'power2.inOut' });
     // timeline.to(container.childNodes[1].childNodes[1], {rotateY: 0,duration: 0.5, ease: 'power2.inOut' });
     // timeline.to(arrayOfDivs, { autoAlpha: 0,stagger:0.05, duration: 0.25,  ease: 'none' });
      timeline.to(arrayOfDivs, {  autoAlpha: 0,stagger:0.2, duration: 0.5,  ease: 'none' });
      console.log(data.trigger.childNodes[0]);
    
      data.current.container.childNodes[3].style.transition = 'transform 0.5s ease-inout';
data.current.container.childNodes[3].style.transform = `translateY(-55px)`;

setTimeout(() => {
  data.current.container.childNodes[5].style.transition = 'transform 0.5s ease-inout';
  data.current.container.childNodes[5].style.transform = `translateX(-60px)`;
}, 50);
      setTimeout(() => {
        //data.trigger.childNodes[0].style.transition = 'transform 0.5s ease-out';
       // data.trigger.childNodes[0].style.transform = `translateX(150vw)`;
}, 300);

//data.trigger.childNodes[0].style = "opacity: 1; pointer-events: none;"
  
  
  timeline.to(data.current.container, {delay:1.5, autoAlpha: 0, duration: 0, clearProps: 'all', ease: 'none'});
  return timeline;

}

const animationLeavePage = (data) => {

  const timeline = gsap.timeline();
  console.log("animationLeavePage"+data.current.container.childNodes[7].childNodes[0]);
  
  //timeline.to(data.current.container.childNodes[7], { delay: 0,y: 60, duration: 1, clearProps: 'all', ease: 'none'});
      timeline.to(data.current.container, { delay: 0,autoAlpha: 0, duration: 0.4, clearProps: 'all', ease: 'none'});
      //timeline.from(container.childNodes[3], { autoAlpha: 0, duration: 2, clearProps: 'all', ease: 'none'});
      //timeline.from(container.childNodes[5], { autoAlpha: 0, duration: 2, clearProps: 'all', ease: 'none'});
      //timeline.from(container.childNodes[7], { autoAlpha: 0, duration: 2, clearProps: 'all', ease: 'none'});
      return timeline;
}


barba.init({
    transitions: [
        {sync:true,
           
            leave: (data) => animationLeaveMenu(data),
            enter: ({next}) => {
                console.log('entering');
                animationEnter(next.container);
                initScroll();
            }
        },{
            name: 'back',
            priority: 1,
            custom: ({ trigger }) => {return trigger === 'back'},
           
            leave: (data) => animationLeavePage(data),
            enter: ({next}) => {
           
              console.log('BACKBACK');
             
              animationEnterMenu(next.container);
            
            }
          }
    ]
});
         </script>



</body>




</html>
