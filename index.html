<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="styles.css">
    <title>Sasha Buskin</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.0/p5.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.4/gsap.min.js"></script>
    <script src="background.js" style="position: fixed;"></script>
    <script src="https://unpkg.com/split-type"></script>
    <script src="https://unpkg.com/@barba/core"></script>
</head>

<body>

  <header>
      <div class="container">
          <h1 id="name" style="padding-top: 0vw;">SASHA</h1>
          <h1 id="name1" style="padding-top: 3vw;">BUSKIN</h1>
      </div>
  </header>

  <div class="eyes">
      <div class="eye-container">
          <div class="eye">
              <div class="pupil"></div>
          </div>
      </div>
      <div class="eye-container">
          <div class="eye">
              <div class="pupil"></div>
          </div>
      </div>
  </div>

  <div class="bottombutton" style="margin-left: 40px;">
      <a href="#">
          <img src="gitty.png" style="width:3vw;" alt="Button Image">
      </a>
  </div>

  <div class="bottombutton" style="margin-left: 100px;">
      <a href="#">
          <img src="in.png" style="width:3vw;" alt="Button Image">
      </a>
  </div>

  <div class="cursor">
  
    <div class="circle"></div>
      <div class="circle"></div>
      <div class="circle"></div>
      <div class="circle"></div>
      <div class="circle"></div>
      <div class="circle"></div>
      <div class="circle"></div>
      <div class="circle"></div>
      <div class="circle"></div>
      <div class="circle"></div>
      <div class="circle"></div>
      <div class="circle"></div>
      <div class="circle"></div>
      <div class="circle"></div>
      <div class="circle"></div>
      <div class="circle"></div>
      <div class="circle"></div>
      <div class="circle"></div>
      <div class="circle"></div>
      <div class="circle"></div>
    </div>


<main data-barba="wrapper">
  <!-- Unchanged Content -->
  <section data-barba="container" style="position: absolute; width: 99vw; float: right;">
  <div class="project">
      <con>
          <div class="nav">
              <a href="Tattoomi.html" id= "tt" style="text-decoration:none;"><h2 class="menu-item">Tattoomi</h2></a>
              <a href="NeuWord.html" style="text-decoration:none;" onclick="titlize(this)"><h2 class="menu-item">NeuWord</h2></a>
              <a href="PinguTopia.html" style="text-decoration:none;"><h2 class="menu-item">PinguTopia</h2></a>
              <a href="HopIn.html" style="text-decoration:none;"><h2 class="menu-item">HopIn</h2></a>
              <a href="WWTBAM.html" style="text-decoration:none;"><h2 class="menu-item">WWTBAM</h2></a>
          </div>
      </con>
  </div>

</section>
</main>
<!-- Unchanged Content -->


          <!-- Main content area -->
          
       
      
       
        <script src="script.js"></script>
    

        <script>

function titlize(clickedElement) {
  var a = clickedElement.childNodes[0];

  a.style.color = '#1A2EFF';
               a.classList.add(".title");
               a.classList.add(".nohover");
}



          document.addEventListener('DOMContentLoaded', function() {
            // Get all elements with the class "fadeHeader"
            var fadeHeaders = document.querySelectorAll('.menu-item');
     
            // Function to apply fade-in effect to each header
            function fadeInHeader(header, index) {
              setTimeout(function() {
                header.style.opacity = '1';
                header.style.transform = 'translateY(0)';
              }, 150 * index); // Adjust the delay as needed for each header
            
             
              
            }
      
            // Iterate through each header and apply the fade-in effect
            fadeHeaders.forEach(function(header, index) {
              fadeInHeader(header, index);
             
            }
            
            );

          });
         
        </script>

        <script>
           const myText = new SplitType('#name')
            
              gsap.to('.char', {
              y: 0,
              ease: "expo.out",
              delay: 0.7,
              duration: 2.0
            })
            const myText1 = new SplitType('#name1')
              gsap.to('.char', {
              y: 0,
              ease: "expo.out",
              delay: 0.9,
              duration: 2.0
            })
        </script>
         
         <script src="https://unpkg.com/@barba/core"></script>
         <script>
            /* barba.init({
                transitions: [{
                  sync:false,
                  name: 'opacity-transition',
              
               leave(data) {
               
                 animationLeave(data.current.container, data);
                data.current.container.childNodes[1].childNodes[1].classList.add("snapback");
              },
   
               enter(data) {
                return gsap.from(data.next.container, {
                  delay:2,
        opacity: 0,
        duration:1.0
        
      });
              }
            }]
          });


          const animationEnter = (container, data) => {
            const timeline = gsap.timeline();
            console.log(container.childNodes[3]);
            timeline.to(container.childNodes[3], { opacity: 1, duration: 0.25,  ease: 'none' });


return timeline;


          }




          const animationLeave = (container, data) => {
  
  var arrayOfDivs = [];
  
 
 
 for(let i=1;i<10;i +=2){
  var head = container.childNodes[1].childNodes[1].childNodes[1].childNodes[i];
 
  if(data.trigger != head){
    arrayOfDivs.push(head);
  }

 } 


 const timeline = gsap.timeline();
    
      
      timeline.to(container.childNodes[1].childNodes[1], {scale: 0.5, perspective: 'none',rotateY: 0,duration: 0.4, ease: 'power2.inOut' });
     // timeline.to(container.childNodes[1].childNodes[1], {rotateY: 0,duration: 0.5, ease: 'power2.inOut' });
      timeline.to(arrayOfDivs, { autoAlpha: 0,stagger:0.05, duration: 0.25,  ease: 'none' });
      timeline.to(container.childNodes[1].childNodes[1], {  y: "-13.58vw",  duration: 0.4,  ease: 'power2.inOut' });
  // 
    return timeline;
    }*/

    const animationEnter = (container) => {
   
   
   
      return gsap.from(container, { autoAlpha: 0, duration: 2, clearProps: 'all', ease: 'none'});
}

const animationLeave = (data) => {
    
  var arrayOfDivs = [];
  
 
 
 for(let i=1;i<10;i +=2){
  var head = data.current.container.childNodes[1].childNodes[1].childNodes[1].childNodes[i];
 console.log(data.trigger);
  
 
 if(data.trigger != head){
    arrayOfDivs.push(head);
  }

 } 


 const timeline = gsap.timeline();
    
      
      timeline.to(data.current.container.childNodes[1].childNodes[1], {scale: 0.5, perspective: 'none',rotateY: 0,duration: 0.4, ease: 'power2.inOut' });
     // timeline.to(container.childNodes[1].childNodes[1], {rotateY: 0,duration: 0.5, ease: 'power2.inOut' });
      timeline.to(arrayOfDivs, { autoAlpha: 0,stagger:0.05, duration: 0.25,  ease: 'none' });
      timeline.to(data.current.container.childNodes[1].childNodes[1], {  y: "-13.58vw",  duration: 0.4,  ease: 'power2.inOut' });
  // 
  
  
  timeline.to(data.current.container, { autoAlpha: 0, duration: 0.5, clearProps: 'all', ease: 'none'});
  return timeline;

}

barba.init({
    transitions: [
        {sync:true,
           
            leave: (data) => animationLeave(data),
            enter: ({next}) => {
                console.log('entering');
                animationEnter(next.container);
            }
        }
    ]
});
         </script>
</body>




</html>
